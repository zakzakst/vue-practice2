<script setup lang="ts">
import { ref } from 'vue';
import Input from './components/Input.vue';
import Radio from './components/Radio.vue';
import Select from './components/Select.vue';

const currentComp = ref(Input);
const currentCompName = ref('Input');

const compList = [Input, Radio, Select];
const compNameList: string[] = ['Input', 'Radio', 'Select'];
let currentCompIndex = 0;

const switchComp = (): void => {
  currentCompIndex++;
  if (currentCompIndex >= 3) {
    currentCompIndex = 0;
  }
  currentComp.value = compList[currentCompIndex];
  currentCompName.value = compNameList[currentCompIndex];
}
</script>

<template>
  <p>コンポーネント名：{{ currentCompName }}</p>
  <KeepAlive>
    <component :is="currentComp" />
  </KeepAlive>
  <button @click="switchComp">切替</button>
</template>